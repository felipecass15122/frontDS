<div class="page-container">
  <h2 class="page-title">Buscar Músicas</h2>
  
  <div class="search-container">
    <input 
      type="text" 
      class="search-input"
      placeholder="Digite o nome da música ou artista..."
      [(ngModel)]="searchTerm"
      (input)="filterMusicas()">
  </div>

  <div class="results-container">
    <p *ngIf="searchTerm && musicasFiltradas.length === 0" class="no-results">
      Nenhum resultado encontrado para "{{ searchTerm }}"
    </p>

    <ul class="music-list">
      <li *ngFor="let musica of musicasFiltradas" class="music-item">
        <div class="music-info">
          <span class="music-name">{{ musica.nome }}</span>
          <!-- Corrigido para acessar o nome do artista do objeto enriquecido -->
          <span class="music-artist">{{ musica.artista?.nome || 'Artista Desconhecido' }}</span>
        </div>
        <button class="add-btn" title="Adicionar à playlist" (click)="abrirModal(musica)">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
        </button>
      </li>
    </ul>
  </div>
</div>


<app-add-music-to-playlist 
*ngIf="isModalVisible" 
  [musicaParaAdicionar]="musicaSelecionada"
  [playlists]="playlistsUsuario"
  (closeRequest)="fecharModal()">

</app-add-music-to-playlist>

<app-nav-bar></app-nav-bar>